Bridge.assembly("IndieRacersWE",function($asm,globals){"use strict";Bridge.define("net.sylde.BridgeNet.Aide",{statics:{methods:{csHttpGetStringAsync_s:function(\u00f9Url_s){var \u00f9Ret_tcs=new System.Threading.Tasks.TaskCompletionSource,\u00f9Requete_xhr=new XMLHttpRequest;return \u00f9Requete_xhr.onreadystatechange=function(){if(\u00f9Requete_xhr.readyState===4){if(\u00f9Requete_xhr.status!==200)throw new System.IO.IOException.ctor;\u00f9Ret_tcs.trySetResult(\u00f9Requete_xhr.responseText)}},\u00f9Requete_xhr.open("GET",\u00f9Url_s,!0),\u00f9Requete_xhr.send(),\u00f9Ret_tcs.task},tsHttpGetStringStart_s:function(\u00f9Url_s,\u00f9OnResultat_a){var \u00f9Requete_xhr=new XMLHttpRequest;\u00f9Requete_xhr.onreadystatechange=function(){\u00f9Requete_xhr.readyState===4&&(\u00f9Requete_xhr.status!==200&&\u00f9OnResultat_a(null),\u00f9OnResultat_a(\u00f9Requete_xhr.responseText))};\u00f9Requete_xhr.open("GET",\u00f9Url_s,!0);\u00f9Requete_xhr.send()}}}});Bridge.define("net.sylde.BridgeNet.EvenementTask",{inherits:[System.Threading.Tasks.TaskCompletionSource],fields:{cFire_a:null},ctors:{ctor:function(){this.$initialize();System.Threading.Tasks.TaskCompletionSource.call(this);this.cFire_a=Bridge.fn.bind(this,function(\u00f9e){this.trySetResult(!1)})}}});Bridge.define("net.sylde.BridgeNet.EvenementTask$1",function(E){return{inherits:[System.Threading.Tasks.TaskCompletionSource],fields:{cFire_a:null},ctors:{ctor:function(){this.$initialize();System.Threading.Tasks.TaskCompletionSource.call(this);this.cFire_a=Bridge.fn.bind(this,function(\u00f9e){this.trySetResult(\u00f9e.currentTarget)})}}}});Bridge.define("net.sylde.IndieRacersWE",{main:function(){var $step=0,$task1,$taskResult1,$task4,$jumpFromFinally,\u00f9OnWindow_oe,\u00f9Model_t,\u00f9GamesList_sr,\u00f9Games_l,\u00f9Game_s,\u00f9Games_sb,\u00f9_r,sIdx_s32,\u00f9Game_g,\u00f9Model_s,\u00f9Ex,$asyncBody=Bridge.fn.bind(this,function(){for(;;){$step=System.Array.min([0,1,2,3,4,5],$step);switch($step){case 0:if(\u00f9OnWindow_oe=new net.sylde.BridgeNet.EvenementTask,window.onload=\u00f9OnWindow_oe.cFire_a,\u00f9Model_t=net.sylde.BridgeNet.Aide.csHttpGetStringAsync_s("r/games/model.txt"),$task1=net.sylde.BridgeNet.Aide.csHttpGetStringAsync_s("r/games/list.txt"),$step=1,$task1.isCompleted())continue;$task1.continue($asyncBody);return;case 1:$taskResult1=$task1.getAwaitedResult();\u00f9GamesList_sr=new System.IO.StringReader($taskResult1);\u00f9Games_l=new(System.Collections.Generic.List$1(System.Threading.Tasks.Task$1(net.sylde.IndieRacersWE.Game)).ctor);case 2:if(\u00f9Game_s=\u00f9GamesList_sr.ReadLine(),\u00f9Game_s!=null){$step=3;continue}$step=4;continue;case 3:\u00f9Games_l.add(net.sylde.IndieRacersWE.csInitGameAsync(\u00f9Game_s));$step=2;continue;case 4:if($task4=System.Threading.Tasks.Task.whenAll(\u00f9OnWindow_oe.task,\u00f9Model_t,System.Threading.Tasks.Task.whenAll(\u00f9Games_l)),$step=5,$task4.isCompleted())continue;$task4.continue($asyncBody);return;case 5:$task4.getAwaitedResult();try{for(\u00f9Games_sb=new System.Text.StringBuilder,\u00f9_r=new System.Random.ctor;\u00f9Games_l.Count>0;)sIdx_s32=\u00f9_r.Next$2(0,\u00f9Games_l.Count),\u00f9Game_g=\u00f9Games_l.getItem(sIdx_s32).getResult(),\u00f9Games_l.removeAt(sIdx_s32),\u00f9Model_s=\u00f9Model_t.getResult(),\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7GameFolder\u00a7",\u00f9Game_g._Folder_s),\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7GameTitle\u00a7",\u00f9Game_g._Title_s),\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7GameSubTitle\u00a7",\u00f9Game_g._SubTitle_s),\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7GameDescription\u00a7",\u00f9Game_g._Description_s),\u00f9Game_g._ImgUrl_s.length>0?(\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7imgLinkStart\u00a7",'<a target="blank" href="'+(\u00f9Game_g._ImgUrl_s||"")+'">'),\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7imgLinkEnd\u00a7","<\/a>")):(\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7imgLinkStart\u00a7",""),\u00f9Model_s=System.String.replaceAll(\u00f9Model_s,"\u00a7imgLinkEnd\u00a7","")),\u00f9Games_sb.append(\u00f9Model_s);document.body.innerHTML=System.String.replaceAll(document.body.innerHTML,'<div id="games"><\/div>',\u00f9Games_sb.toString())}catch(\u00f9Ex){\u00f9Ex=System.Exception.create(\u00f9Ex);document.body.innerHTML=Bridge.toString(\u00f9Ex)}return;default:return}}},arguments);$asyncBody()},statics:{methods:{csInitGameAsync:function(sGame_s){var $step=0,$task1,$taskResult1,$task2,$taskResult2,$task3,$taskResult3,$task4,$taskResult4,$jumpFromFinally,$tcs=new System.Threading.Tasks.TaskCompletionSource,$returnValue,$t,$async_e,$asyncBody=Bridge.fn.bind(this,function(){try{for(;;){$step=System.Array.min([0,1,2,3,4],$step);switch($step){case 0:if($task1=net.sylde.BridgeNet.Aide.csHttpGetStringAsync_s("r/games/"+(sGame_s||"")+"/imgUrlOptional.txt"),$step=1,$task1.isCompleted())continue;$task1.continue($asyncBody);return;case 1:if($taskResult1=$task1.getAwaitedResult(),$task2=net.sylde.BridgeNet.Aide.csHttpGetStringAsync_s("r/games/"+(sGame_s||"")+"/title.txt"),$step=2,$task2.isCompleted())continue;$task2.continue($asyncBody);return;case 2:if($taskResult2=$task2.getAwaitedResult(),$task3=net.sylde.BridgeNet.Aide.csHttpGetStringAsync_s("r/games/"+(sGame_s||"")+"/subtitle.txt"),$step=3,$task3.isCompleted())continue;$task3.continue($asyncBody);return;case 3:if($taskResult3=$task3.getAwaitedResult(),$task4=net.sylde.BridgeNet.Aide.csHttpGetStringAsync_s("r/games/"+(sGame_s||"")+"/description.txt"),$step=4,$task4.isCompleted())continue;$task4.continue($asyncBody);return;case 4:$taskResult4=$task4.getAwaitedResult();$tcs.setResult(($t=new net.sylde.IndieRacersWE.Game,$t._Folder_s=sGame_s,$t._ImgUrl_s=$taskResult1,$t._Title_s=$taskResult2,$t._SubTitle_s=$taskResult3,$t._Description_s=$taskResult4,$t));return;default:$tcs.setResult(null);return}}}catch($async_e1){$async_e=System.Exception.create($async_e1);$tcs.setException($async_e)}},arguments);return $asyncBody(),$tcs.task}}}});Bridge.define("net.sylde.IndieRacersWE.Game",{$kind:"nested class",fields:{_Folder_s:null,_ImgUrl_s:null,_Title_s:null,_SubTitle_s:null,_Description_s:null}});Bridge.define("System.Reflection.ObfuscateAssemblyAttribute",{inherits:[System.Attribute],fields:{m_assemblyIsPrivate:!1,m_stripAfterObfuscation:!1},props:{AssemblyIsPrivate:{get:function(){return this.m_assemblyIsPrivate}},StripAfterObfuscation:{get:function(){return this.m_stripAfterObfuscation},set:function(value){this.m_stripAfterObfuscation=value}}},ctors:{ctor:function(assemblyIsPrivate){this.$initialize();System.Attribute.ctor.call(this);this.m_assemblyIsPrivate=assemblyIsPrivate;this.m_stripAfterObfuscation=!0}}});Bridge.define("System.Reflection.ObfuscationAttribute",{inherits:[System.Attribute],fields:{m_applyToMembers:!1,m_exclude:!1,m_feature:null,m_stripAfterObfuscation:!1},props:{ApplyToMembers:{get:function(){return this.m_applyToMembers},set:function(value){this.m_applyToMembers=value}},Exclude:{get:function(){return this.m_exclude},set:function(value){this.m_exclude=value}},Feature:{get:function(){return this.m_feature},set:function(value){this.m_feature=value}},StripAfterObfuscation:{get:function(){return this.m_stripAfterObfuscation},set:function(value){this.m_stripAfterObfuscation=value}}},ctors:{ctor:function(){this.$initialize();System.Attribute.ctor.call(this);this.m_applyToMembers=!0;this.m_exclude=!0;this.m_feature="all";this.m_stripAfterObfuscation=!0}}})});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICJJbmRpZVJhY2Vyc1dFLm1pbi5qcyIsCiAgInNvdXJjZVJvb3QiOiAiIiwKICAic291cmNlcyI6IFtdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICIiLAogICJzb3VyY2VzQ29udGVudCI6IFtdCn0K
